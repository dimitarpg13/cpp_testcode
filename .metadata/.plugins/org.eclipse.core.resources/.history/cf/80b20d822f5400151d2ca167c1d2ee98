/*
 * Problem.h
 *
 *  Created on: Sep 5, 2015
 *      Author: root
 */

#ifndef PROBLEM_H_
#define PROBLEM_H_

#include "Symbol.h"
#include "Line.h"
#include "Region.h"

using namespace std;

namespace sudoku
{

class Problem
{

private:
   int m_iHorizLineCount;
   int m_iVertLineCount;
   int m_iRegionCount;

   HorizLine ** m_pHorizLineArr;
   VertLine ** m_pVertLineArr;
   Region ** m_pRegionArr;

   void init()
   {
	   m_pHorizLineArr = new HorizLine* [m_iHorizLineCount];
       m_pVertLineArr = new VertLine* [m_iVertLineCount];
       m_pRegionArr = new Region* [m_iRegionCount];

       for (int i = 0; i < m_iHorizLineCount; i++)
    	   m_pHorizLineArr[i] = new HorizLine();

   }

public:
   static const int CLASSIC_SUDOKU_HORIZ_LINE_COUNT = 9;
   static const int CLASSIC_SUDOKU_VERT_LINE_COUNT = 9;
   static const int CLASSIC_SUDOKU_REGION_COUNT = 9;

   Problem()
   {
	  m_iHorizLineCount = CLASSIC_SUDOKU_HORIZ_LINE_COUNT;
	  m_iVertLineCount = CLASSIC_SUDOKU_VERT_LINE_COUNT;
	  m_iRegionCount = CLASSIC_SUDOKU_REGION_COUNT;

	  init();
   }

   Problem(int horizLineCount, int vertLineCount, int regionCount) :
	   m_iHorizLineCount(horizLineCount),
	   m_iVertLineCount(vertLineCount),
	   m_iRegionCount(regionCount)
   {
       init();
   }


   ~Problem()
   {
	   for (int i = 0; i < m_iHorizLineCount; i++)
		   delete m_pHorizLineArr[i];
	   delete [] m_pHorizLineArr;

	   for (int i = 0; i < m_iVertLineCount; i++)
		   delete m_pVertLineArr[i];
	   delete [] m_pVertLineArr;

	   for (int i = 0; i < m_iRegionCount; i++)
		   delete m_pRegionArr[i];
	   delete [] m_pRegionArr;


   }

};

}

#endif /* PROBLEM_H_ */
